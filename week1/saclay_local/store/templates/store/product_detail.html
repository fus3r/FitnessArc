{% extends 'store/base.html' %}

{% block title %}Détail du produit - Comptoir Local Saclay{% endblock %}
{% block nav_products %}active{% endblock %}

{% block content %}
<div class="container my-5">
    <div class="row">
        <!-- Product Image -->
        <div class="col-md-5">
            <div class="card shadow">
                <img src="https://via.placeholder.com/500x400/28a745/ffffff?text={{ product.name }}" 
                     class="card-img-top" 
                     alt="{{ product.name }}">
            </div>
        </div>
        
        <!-- Product Details -->
        <div class="col-md-7">
            <h1 class="display-5 mb-3">{{ product.name }}</h1>
            
            <div class="mb-4">
                <span class="badge bg-success fs-6">
                    <i class="bi bi-tag-fill"></i> {{ product.price }} EUR
                </span>
            </div>
            
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="bi bi-person-badge"></i> Producteur
                    </h5>
                    <p class="card-text">
                        <a href="{% url 'producer_detail' product.producer.id %}" class="text-decoration-none">
                            {{ product.producer.name }}
                        </a>
                        {% if product.producer.email %}
                        <br><small class="text-muted">
                            <i class="bi bi-envelope"></i> {{ product.producer.email }}
                        </small>
                        {% endif %}
                    </p>
                </div>
            </div>
            
            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title">
                        <i class="bi bi-box-seam"></i> Stock disponible
                    </h5>
                    <p class="card-text">
                        {% if product.stock_quantity > 0 %}
                            <span class="badge bg-success">{{ product.stock_quantity }} unités en stock</span>
                        {% else %}
                            <span class="badge bg-danger">Rupture de stock</span>
                        {% endif %}
                    </p>
                </div>
            </div>
            
            <div class="d-grid gap-2 d-md-flex mt-4">
                {% if product.stock_quantity > 0 %}
                <button class="btn btn-primary-custom btn-lg" type="button">
                    <i class="bi bi-cart-plus"></i> Ajouter au panier
                </button>
                {% else %}
                <button class="btn btn-secondary btn-lg" type="button" disabled>
                    <i class="bi bi-x-circle"></i> Indisponible
                </button>
                {% endif %}
                <a href="{% url 'products_list' %}" class="btn btn-outline-secondary btn-lg">
                    <i class="bi bi-arrow-left"></i> Retour aux produits
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
