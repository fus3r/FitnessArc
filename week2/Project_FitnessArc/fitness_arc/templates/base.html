<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>{% block title %}Fitness Arc{% endblock %}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      --primary:#6366f1;--secondary:#a855f7;--accent:#ec4899;
      --success:#10b981;--warning:#f59e0b;--danger:#ef4444;
      --bg:#0f172a;--bg-elevated:#1e293b;--bg-card:#1e293b;
      --text:#f1f5f9;--text-dim:#94a3b8;--border:#334155;
    }
    @keyframes fadeIn{from{opacity:0}to{opacity:1}}
    @keyframes slideIn{from{opacity:0;transform:translateY(15px)}to{opacity:1;transform:translateY(0)}}
    @keyframes glow{0%,100%{box-shadow:0 0 5px rgba(99,102,241,0.3)}50%{box-shadow:0 0 20px rgba(99,102,241,0.6),0 0 40px rgba(99,102,241,0.4)}}
    body{
      font-family:'Inter',system-ui,sans-serif;background:var(--bg);color:var(--text);
      min-height:100vh;font-size:15px;line-height:1.6;
      animation:fadeIn 0.3s ease;-webkit-font-smoothing:antialiased;
    }
    body::before{
      content:'';position:fixed;top:0;left:0;right:0;bottom:0;
      background:radial-gradient(circle at 20% 30%,rgba(99,102,241,0.03),transparent 60%),
                 radial-gradient(circle at 80% 70%,rgba(168,85,247,0.02),transparent 60%);
      pointer-events:none;z-index:0;
    }
    
    /* NAVBAR ULTRA CLASSY */
    header{
      background:rgba(15,23,42,0.8);backdrop-filter:blur(30px) saturate(180%);
      border-bottom:1px solid rgba(99,102,241,0.2);
      position:sticky;top:0;z-index:100;
      box-shadow:0 4px 24px rgba(0,0,0,0.4);
    }
    nav{
      max-width:1400px;margin:0 auto;padding:1rem 2rem;
      display:flex;align-items:center;justify-content:space-between;
      gap:2rem;
    }
    .nav-brand{
      font-size:1.5rem;font-weight:800;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      background-clip:text;letter-spacing:-0.02em;
    }
    .nav-links{
      display:flex;align-items:center;gap:0.5rem;
      background:rgba(30,41,59,0.5);padding:0.5rem;
      border-radius:50px;border:1px solid var(--border);
    }
    .nav-links a,.nav-links button{
      color:var(--text-dim);text-decoration:none;font-weight:500;
      font-size:14px;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
      background:none;border:none;cursor:pointer;font-family:inherit;
      padding:0.625rem 1.25rem;border-radius:30px;position:relative;
      white-space:nowrap;
    }
    .nav-links a.active{
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      color:#fff;box-shadow:0 4px 12px rgba(99,102,241,0.4);
    }
    .nav-links a:hover:not(.active),.nav-links button:hover{
      color:var(--text);
      background:rgba(51,65,85,0.5);
      transform:translateY(-2px);
    }
    .nav-actions{
      display:flex;align-items:center;gap:0.75rem;
    }
    .nav-actions button{
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      color:#fff;border:none;cursor:pointer;padding:0.625rem 1.25rem;
      border-radius:30px;font-weight:600;font-size:14px;
      transition:all 0.2s;font-family:inherit;
      box-shadow:0 4px 12px rgba(99,102,241,0.3);
    }
    .nav-actions button:hover{
      transform:translateY(-2px);
      box-shadow:0 8px 20px rgba(99,102,241,0.5);
    }
    .nav-user{
      display:flex;align-items:center;gap:0.5rem;
      padding:0.5rem 1rem;background:rgba(30,41,59,0.5);
      border-radius:30px;border:1px solid var(--border);
    }
    .nav-avatar{
      width:32px;height:32px;border-radius:50%;
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      display:flex;align-items:center;justify-content:center;
      color:#fff;font-weight:700;font-size:14px;
    }
    
    .container{
      max-width:1400px;margin:2rem auto;padding:0 2rem;
      position:relative;z-index:1;animation:slideIn 0.4s ease;
    }
    .card{
      background:rgba(30,41,59,0.5);backdrop-filter:blur(10px);
      border:1px solid var(--border);border-radius:16px;padding:2rem;
      margin:1.5rem 0;transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
      position:relative;overflow:hidden;
    }
    .card::before{
      content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;
      background:linear-gradient(90deg,transparent,rgba(99,102,241,0.05),transparent);
      transition:left 0.5s;
    }
    .card:hover{
      border-color:rgba(99,102,241,0.4);
      box-shadow:0 20px 40px rgba(0,0,0,0.4);
      transform:translateY(-2px);
    }
    .card:hover::before{left:100%}
    
    /* ...existing code for inputs, buttons, tables, etc... */
    input,select,textarea{
      font:inherit;padding:0.875rem 1rem;border:1px solid var(--border);
      border-radius:12px;background:rgba(15,23,42,0.6);color:var(--text);
      transition:all 0.2s;width:100%;margin:0.5rem 0;
    }
    input:focus,select:focus,textarea:focus{
      outline:none;border-color:var(--primary);
      box-shadow:0 0 0 3px rgba(99,102,241,0.15);
      background:rgba(15,23,42,0.8);
    }
    button:not(.nav-links button):not(.nav-actions button),.btn{
      background:linear-gradient(135deg,var(--primary),var(--secondary));
      color:#fff;border:none;cursor:pointer;padding:0.75rem 1.5rem;
      border-radius:12px;text-decoration:none;display:inline-block;
      font-weight:600;font-size:14px;transition:all 0.2s;font-family:inherit;
      position:relative;overflow:hidden;
    }
    button:not(.nav-links button):not(.nav-actions button)::after,.btn::after{
      content:'';position:absolute;top:50%;left:50%;width:0;height:0;
      border-radius:50%;background:rgba(255,255,255,0.4);
      transition:width 0.6s,height 0.6s;transform:translate(-50%,-50%);
    }
    button:not(.nav-links button):not(.nav-actions button):hover::after,.btn:hover::after{width:300px;height:300px}
    button:not(.nav-links button):not(.nav-actions button):hover,.btn:hover{
      transform:translateY(-2px);
      box-shadow:0 12px 24px rgba(99,102,241,0.4);
    }
    .btn-secondary{background:linear-gradient(135deg,rgba(51,65,85,0.8),rgba(71,85,105,0.8))}
    .btn-danger{background:linear-gradient(135deg,var(--danger),#dc2626)}
    table{width:100%;border-collapse:separate;border-spacing:0;margin:1.5rem 0;border-radius:12px;overflow:hidden}
    th,td{padding:1rem;text-align:left;border-bottom:1px solid var(--border)}
    th{
      background:rgba(99,102,241,0.1);color:var(--text);font-weight:600;
      font-size:13px;text-transform:uppercase;letter-spacing:0.05em;
    }
    tr:hover td{background:rgba(99,102,241,0.05)}
    .item-card{
      background:rgba(30,41,59,0.3);border:1px solid var(--border);
      border-radius:12px;padding:1.5rem;margin:1rem 0;transition:all 0.2s;
    }
    .item-card:hover{
      border-color:rgba(99,102,241,0.4);
      box-shadow:0 8px 24px rgba(0,0,0,0.3);
      transform:translateY(-2px);
    }
    h1{
      font-size:2.5rem;font-weight:800;letter-spacing:-0.03em;
      margin-bottom:0.75rem;color:var(--text);
      background:linear-gradient(135deg,#fff 0%,var(--text-dim) 100%);
      -webkit-background-clip:text;-webkit-text-fill-color:transparent;
      background-clip:text;
    }
    h2{font-size:1.875rem;font-weight:700;margin-bottom:1rem;color:var(--text)}
    h3{font-size:1.5rem;font-weight:600;margin-bottom:0.75rem;color:var(--text)}
    h4{font-size:1.25rem;font-weight:600;margin-bottom:0.5rem;color:var(--text)}
    p{color:var(--text-dim);line-height:1.7}
    label{
      display:block;color:var(--text);font-weight:500;
      font-size:13px;margin-bottom:0.5rem;letter-spacing:0.01em;
    }
    .messages{list-style:none;padding:0}
    .messages li{
      background:linear-gradient(135deg,rgba(16,185,129,0.12),rgba(16,185,129,0.06));
      border:1px solid rgba(16,185,129,0.3);border-left:4px solid var(--success);
      padding:1rem 1.25rem;border-radius:12px;margin:1rem 0;
      animation:slideIn 0.3s ease;
    }
    .badge{
      display:inline-block;padding:0.375rem 0.875rem;border-radius:20px;
      font-size:12px;font-weight:600;letter-spacing:0.01em;
    }
    .badge-primary{background:rgba(99,102,241,0.15);color:#818cf8;border:1px solid rgba(99,102,241,0.3)}
    .badge-warning{background:rgba(245,158,11,0.15);color:#fbbf24;border:1px solid rgba(245,158,11,0.3)}
    .stat-card{
      text-align:center;padding:2rem;border-radius:16px;
      transition:all 0.3s;position:relative;overflow:hidden;
    }
    .stat-card::before{
      content:'';position:absolute;top:0;left:0;right:0;bottom:0;
      background:rgba(255,255,255,0.05);opacity:0;transition:opacity 0.3s;
    }
    .stat-card:hover::before{opacity:1}
    .stat-card:hover{transform:translateY(-6px);box-shadow:0 20px 40px rgba(0,0,0,0.5)}
    .meal-group{
      background:rgba(30,41,59,0.3);border:1px solid var(--border);
      border-radius:16px;padding:1.75rem;margin:1.5rem 0;transition:all 0.2s;
    }
    .meal-group:hover{border-color:rgba(99,102,241,0.3)}
    .meal-group h4{
      color:var(--text);font-size:1.125rem;font-weight:700;
      margin-bottom:1.25rem;display:flex;align-items:center;gap:0.75rem;
    }
    
    @media(max-width:968px){
      .nav-links{flex-wrap:wrap;justify-content:center}
      .nav-brand{display:none}
    }
    @media(max-width:768px){
      nav{flex-direction:column;gap:1rem}
      .nav-links{width:100%;justify-content:center}
      .container{padding:0 1rem;margin:1.5rem auto}
      h1{font-size:2rem}
      .card{padding:1.5rem}
    }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
<header>
  <nav>
    <div class="nav-brand">ðŸ’ª Fitness Arc</div>
    
    <div class="nav-links">
      <a href="{% url 'common:index' %}" {% if request.resolver_match.url_name == 'index' and request.resolver_match.namespace == 'common' %}class="active"{% endif %}>Accueil</a>
      {% if user.is_authenticated %}
        <a href="{% url 'dashboard:index' %}" {% if request.resolver_match.namespace == 'dashboard' %}class="active"{% endif %}>Dashboard</a>
      {% endif %}
      <a href="{% url 'workouts:exercise_list' %}" {% if request.resolver_match.url_name == 'exercise_list' %}class="active"{% endif %}>Exercices</a>
      <a href="{% url 'workouts:template_list' %}" {% if request.resolver_match.url_name == 'template_list' or request.resolver_match.url_name == 'template_detail' %}class="active"{% endif %}>Workouts</a>
      <a href="{% url 'nutrition_today' %}" {% if 'nutrition' in request.path %}class="active"{% endif %}>Nutrition</a>
    </div>
    
    <div class="nav-actions">
      {% if user.is_authenticated %}
        <div class="nav-user">
          <div class="nav-avatar">{{ user.username.0|upper }}</div>
          <a href="{% url 'accounts:profile' %}" style="color:var(--text-dim);text-decoration:none;font-size:14px;font-weight:500">{{ user.username }}</a>
        </div>
        <form method="post" action="{% url 'accounts:logout' %}" style="margin:0">
          {% csrf_token %}
          <button type="submit">DÃ©connexion</button>
        </form>
      {% else %}
        <a href="{% url 'accounts:login' %}" class="btn">Connexion</a>
      {% endif %}
    </div>
  </nav>
</header>
<main class="container">
  {% if messages %}
    <ul class="messages">
      {% for message in messages %}
        <li>{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
  {% block content %}{% endblock %}
</main>
</body>
</html>
