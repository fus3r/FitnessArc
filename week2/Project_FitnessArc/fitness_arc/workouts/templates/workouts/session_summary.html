{% extends "base.html" %}
{% block title %}RÃ©capitulatif SÃ©ance{% endblock %}
{% block content %}
<div style="text-align:center;margin-bottom:2rem">
  <h1>ğŸ SÃ©ance TerminÃ©e !</h1>
  <p style="color:var(--text-dim);font-size:1.1rem">{{ session.date|date:"l d M Y" }}</p>
</div>

<div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;margin-bottom:2rem">
  <div class="stat-card" style="background:linear-gradient(135deg,rgba(99,102,241,0.2),rgba(139,92,246,0.15));border:1px solid rgba(99,102,241,0.3)">
    <h3 style="margin:0 0 0.5rem;font-size:0.9rem;opacity:0.9;color:var(--text)">DurÃ©e</h3>
    <p style="font-size:2.5rem;margin:0;font-weight:bold;color:var(--primary)">{{ session.duration_minutes }}</p>
    <p style="margin:0.5rem 0 0;opacity:0.8;font-size:0.85rem;color:var(--text-dim)">minutes</p>
  </div>
  
  <div class="stat-card" style="background:linear-gradient(135deg,rgba(239,68,68,0.2),rgba(220,38,38,0.15));border:1px solid rgba(239,68,68,0.3)">
    <h3 style="margin:0 0 0.5rem;font-size:0.9rem;opacity:0.9;color:var(--text)">Calories BrÃ»lÃ©es</h3>
    <p style="font-size:2.5rem;margin:0;font-weight:bold;color:var(--danger)">{{ session.estimated_calories_burned }}</p>
    <p style="margin:0.5rem 0 0;opacity:0.8;font-size:0.85rem;color:var(--text-dim)">kcal</p>
  </div>
  
  <div class="stat-card" style="background:linear-gradient(135deg,rgba(16,185,129,0.2),rgba(5,150,105,0.15));border:1px solid rgba(16,185,129,0.3)">
    <h3 style="margin:0 0 0.5rem;font-size:0.9rem;opacity:0.9;color:var(--text)">SÃ©ries</h3>
    <p style="font-size:2.5rem;margin:0;font-weight:bold;color:var(--success)">{{ total_sets }}</p>
    <p style="margin:0.5rem 0 0;opacity:0.8;font-size:0.85rem;color:var(--text-dim)">total</p>
  </div>
  
  <div class="stat-card" style="background:linear-gradient(135deg,rgba(236,72,153,0.2),rgba(219,39,119,0.15));border:1px solid rgba(236,72,153,0.3)">
    <h3 style="margin:0 0 0.5rem;font-size:0.9rem;opacity:0.9;color:var(--text)">Volume</h3>
    <p style="font-size:2.5rem;margin:0;font-weight:bold;color:var(--accent)">{{ session.total_volume|floatformat:0 }}</p>
    <p style="margin:0.5rem 0 0;opacity:0.8;font-size:0.85rem;color:var(--text-dim)">kg Ã— reps</p>
  </div>
</div>

<div class="card">
  <h3>ğŸ“Š DÃ©tail par Exercice</h3>
  <table>
    <thead>
      <tr><th>Exercice</th><th>SÃ©ries</th><th>Reps Totales</th><th>Volume</th></tr>
    </thead>
    <tbody>
      {% for ex_name, data in exercises_data.items %}
      <tr>
        <td><strong>{{ ex_name }}</strong></td>
        <td>{{ data.sets }}</td>
        <td>{{ data.total_reps }}</td>
        <td>{{ data.total_volume|floatformat:0 }} kg</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

<div style="text-align:center;margin-top:2rem">
  <a href="{% url 'dashboard:index' %}" class="btn">Voir le Dashboard â†’</a>
  <a href="{% url 'workouts:template_list' %}" class="btn" style="background:#6c757d;margin-left:0.5rem">Mes Templates â†’</a>
</div>
{% endblock %}
