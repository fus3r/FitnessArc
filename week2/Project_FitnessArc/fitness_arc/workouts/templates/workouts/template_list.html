{% extends "base.html" %}
{% block title %}Mes templates{% endblock %}
{% block content %}
<h1>Mes templates</h1>

<p><a class="btn" href="{% url 'workouts:template_create' %}">+ Nouveau template</a></p>

<table>
  <thead>
    <tr><th>Nom</th><th>Items</th><th>Actions</th></tr>
  </thead>
  <tbody>
    {% for tpl in templates %}
      <tr>
        <td><a href="{% url 'workouts:template_detail' tpl.pk %}">{{ tpl.name }}</a></td>
        <td>{{ tpl.items.count }}</td>
        <td>
          {% if tpl.items.count %}
            <a class="btn" href="{% url 'workouts:start_session' tpl.pk %}">Démarrer une séance</a>
            <a class="btn" href="{% url 'workouts:template_detail' tpl.pk %}">Gérer les items</a>
          {% else %}
            <a class="btn" href="{% url 'workouts:template_detail' tpl.pk %}">Ajouter des items</a>
          {% endif %}
        </td>
      </tr>
    {% empty %}
      <tr><td colspan="3">Aucun template.</td></tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
